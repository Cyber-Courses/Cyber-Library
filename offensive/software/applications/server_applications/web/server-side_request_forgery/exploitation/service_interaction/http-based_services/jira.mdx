---
title: Exploiting SSRF in Jira via icon-uri
description: Learn how to exploit SSRF vulnerabilities in Jira using the icon-uri
  parameter for internal service interaction.
keywords:
- Jira SSRF
- icon-uri parameter
- HTTP request manipulation
- internal service interaction
- Atlassian vulnerability
---

# Jira

## Context

In this guide, we will explore how to exploit a server-side request forgery (SSRF) vulnerability in Jira using the `icon-uri` parameter. This method allows the adversary to make arbitrary HTTP requests from the Jira server, potentially interacting with internal services that are otherwise inaccessible. To understand this technique, readers should be familiar with the HTTP protocol, web server architecture, and the basic concepts of SSRF.

## Theory

### Jira SSRF via icon-uri Parameter

Jira, a popular project management tool by Atlassian, has a parameter called `icon-uri` which can be exploited to trigger SSRF vulnerabilities. This occurs when Jira does not properly validate or sanitize the URLs supplied by users, allowing an attacker to supply URLs that point to external or internal resources. Consequently, Jira makes HTTP requests on behalf of the attacker, bypassing external network restrictions.

In a typical attack sequence, the adversary crafts a request to a Jira endpoint with a malicious `icon-uri`. When Jira processes this parameter, it sends an HTTP request to the specified URI, allowing the attacker to either collect information from internal resources or direct these operations to an external URL they control.

### HTTP Request Manipulation in Atlassian Jira

Within Atlassian Jira, the `icon-uri` is part of a feature that processes user-supplied URLs. Jira makes these requests on the user's behalf, typically to fetch images or icons. The principal vulnerability arises from the lack of strict allow-listing and URL scheme validation, which inadvertently permits the usage of internal protocols or sensitive endpoints.

### Threat Surface in Jira Deployments

Jira installations often have access to a wide range of internal services due to their operational design. These services can include administrative tools, databases, or other sensitive applications that are not accessible from outside the internal network. The data flow involves user input via `icon-uri`, which gets processed by Jira’s backend HTTP client and then directed to the target service. This design flaw increases the potential impact of SSRF attacks, as it may expose sensitive data or allow operations that should be restricted.

## Practice

### Exploiting Jira SSRF via icon-uri Parameter

To exploit the SSRF vulnerability in Jira using the `icon-uri` parameter, follow these steps:

- **Identify a Target Endpoint:**
  Identify a Jira REST API endpoint that accepts the `icon-uri` parameter. A common example is the `/rest/api/2/project` endpoint for creating or modifying projects.

- **Craft a Malicious Payload:**
  Craft a JSON payload incorporating the `icon-uri` parameter with a URL pointing to an internal service. For example, the JSON payload could look like this:
  
  ```json
  {
      "name": "TestProject",
      "key": "TP",
      "projectTypeKey": "business",
      "projectTemplateKey": "com.atlassian.jira-core-project-templates:jira-core-simplified-project-management",
      "description": "SSRF Test",
      "lead": "admin",
      "url": "http://example.com",
      "assigneeType": "PROJECT_LEAD",
      "avatarId": 10200,
      "icon-uri": "http://internal-service.local/secret"
  }
  ```
  In this payload, replace `"http://internal-service.local/secret"` with a URL that the Jira instance can access.

- **Execute the Exploit:**
  Using a tool like `curl`, issue the HTTP request to the Jira server with the crafted payload. Example command:

  ```bash
  curl -u admin:password -H "Content-Type: application/json" -d @payload.json http://jira.local/rest/api/2/project
  ```
  Replace `admin:password`, `http://jira.local`, and the path to `payload.json` with the appropriate values for your target.

- **Monitor for Response:**
  Monitor the internal service or collaborate with an external server, such as Burp Suite’s Collaborator, to confirm that the request was made by the Jira server. This confirmation can provide insight into the request details and the potential internal footprint.

This technique ultimately allows the Jira server to make HTTP requests to attacker-controlled endpoints, facilitating unauthorized service enumeration or interaction with potentially sensitive internal resources.

## Tools

- **curl**
- **Burp Suite**

By leveraging these tools, an attacker can craft and manipulate HTTP requests effectively, monitor outcomes, and confirm the SSRF exploitation success within Jira environments.
