# rpcclient enumeration


# 👉 Overview

---

### 👀 What ?

> Rpcclient enumeration is a process used in penetration testing to gather information about a Windows server and its users. It is a command-line tool that comes with the Samba suite, a set of programs that use the SMB protocol to provide file and print services to SMB/CIFS clients.
> 

### 🧐 Why ?

> Understanding and using rpcclient enumeration is crucial for both ethical hackers and system administrators. For ethical hackers, it provides valuable insights about the target system, which can be critical in finding vulnerabilities and planning an attack. For system administrators, knowing how rpcclient enumeration works helps in securing their systems against potential threats.
> 

### ⛏️ How ?

> To use rpcclient enumeration, first, you need to install the Samba suite. Once installed, you can run the rpcclient command followed by the IP address or hostname of the target server. If the server allows anonymous logins, you'll be granted access to the rpcclient '$>' prompt where you can run various enumeration commands such as 'enumdomusers' to list all users in the domain.
> 

### ⏳ When ?

> Rpcclient enumeration started being used with the introduction of the Samba suite in the late 1990s. Its use has grown as the suite has evolved and become a standard tool in most Linux distributions.
> 

# ⚙️ Technical Explanations

---

Rpcclient is a command-line utility that uses the Remote Procedure Call (RPC) protocol to interact with an SMB server, typically a Windows server. The RPC protocol allows one program to request a service from a program located on a different computer in a network.

The rpcclient tool is part of the Samba suite, a set of programs that use the SMB protocol to provide file and print services to SMB/CIFS clients. It's a valuable tool for penetration testers as it can be used to gather information about a target system.

When running the rpcclient command followed by the IP address or hostname of the target server, the tool sends specifically crafted RPC calls to the server. The server then responds to these calls with various types of information, depending on the nature of the call.

The information gathered by rpcclient can include a list of usernames, group information, domain details, and more. This can provide valuable insights about the target system, aiding in finding potential vulnerabilities and planning an attack.

However, the scope of information that can be retrieved using rpcclient is dependent on the server's configuration and the access rights of the user running the command. If the server allows anonymous logins, more information can generally be retrieved than when authentication is required.

While rpcclient can be a powerful tool for ethical hackers, understanding its use and functionality is also important for system administrators. By knowing how rpcclient works and what information it can retrieve, system administrators can better secure their systems against potential threats.

Let's assume we have a target server with IP address 192.168.1.5. Here's an example of how we might use `rpcclient` for enumeration:

1. Open a terminal and type the command to start rpcclient:

```bash
rpcclient -U "" 192.168.1.5

```

In this command, `-U ""` allows for anonymous login, and `192.168.1.5` is the target server's IP address.

1. If the server allows anonymous logins, you'll be granted access to the rpcclient prompt:

```bash
rpcclient $>

```

1. At the rpcclient prompt, you can run enumeration commands. For example, to list all users in the domain, type:

```bash
rpcclient $> enumdomusers

```

This command will retrieve a list of all user accounts on the domain.

1. To get more information about a specific user, you can use the `queryuser` command followed by the user's ID. For example:

```bash
rpcclient $> queryuser 1000

```

This command will provide detailed information about the user with ID '1000'.

1. To list all groups in the domain, use:

```bash
rpcclient $> enumdomgroups

```

This command will retrieve a list of all groups on the domain.

Remember that the amount of information you can retrieve depends on the server's configuration and the access rights of the user running the command. Always use such tools responsibly and within the boundaries of the law.
