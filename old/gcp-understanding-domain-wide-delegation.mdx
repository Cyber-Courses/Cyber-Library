# GCP - Understanding Domain-Wide Delegation


# üëâ¬†Overview

---

### üëÄ¬†What ?

> Domain-wide delegation in Google Cloud Platform (GCP) is the concept of allowing a service account to impersonate a user account within the same domain. This allows the service account to perform actions on behalf of the user, without requiring the user's credentials.
> 

### üßê¬†Why ?

> Domain-wide delegation is crucial in scenarios where an application needs to access user data on behalf of the user. For instance, if an application needs to read or write to a user's Google Sheets, it can use domain-wide delegation to authenticate as the user and perform these actions. This provides a secure way to perform user-related actions without handling user credentials directly.
> 

### ‚õèÔ∏è¬†How ?

> To implement domain-wide delegation in GCP: 1. Create a service account. 2. Delegate domain-wide authority to your service account. 3. Use the service account to impersonate a user within the same domain. Note that the service account must have the necessary permissions to perform the desired actions on behalf of the user.
> 

### ‚è≥¬†When ?

> Domain-wide delegation started being used with the advent of cloud computing and the need for applications to access user data securely. With GCP, this has been a feature since the platform's inception.
> 

# ‚öôÔ∏è¬†Technical Explanations

---

At its core, domain-wide delegation involves granting a service account the authority to impersonate a user within the same domain. This is done by creating a service account and granting it the 'https://www.googleapis.com/auth/admin.directory.user' scope, which allows it to perform actions as any user in the domain. The service account can then authenticate as any user by including the user's email in the 'subject' field of the JWT claim. This allows the service account to make API calls on behalf of the user, without needing the user's credentials. This is a secure way to perform user-centric actions, and is especially useful in scenarios where an application needs to access user data.
