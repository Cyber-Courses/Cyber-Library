# Windows DSRM Credentials


# 👉 Overview

---

### 👀 What ?

> Windows Directory Services Restore Mode (DSRM) is a special boot mode for repairing or recovering Active Directory. It is used to log on to the computer when Active Directory has failed or needs to be restored.
> 

### 🧐 Why ?

> Understanding DSRM is crucial because it allows administrators to repair or recover Active Directory. It provides a means of accessing a domain controller when all other methods fail, thereby ensuring business continuity. It's also a potential security issue: if DSRM credentials are not managed properly, they can be a loophole for unauthorized access.
> 

### ⛏️ How ?

> To use DSRM, you'll first need to reboot your computer and press F8 during startup before Windows starts. This will bring up the Windows Advanced Options Menu, where you can select Directory Services Restore Mode. Then, you'll need to log on with the DSRM password that was set during the promotion of the domain controller. Be aware, though, that this account is local and separate from the domain administrator account.
> 

### ⏳ When ?

> DSRM was first introduced with Windows 2000 and continues to be a feature in all subsequent versions of Windows Server.
> 

# ⚙️ Technical Explanations

---

Directory Services Restore Mode (DSRM) is a vital feature of Windows Server that allows administrators to access and repair a domain controller when Active Directory services are offline. In DSRM, the server boots into a standalone state, disconnected from the network and not functioning as a domain controller.

The key to DSRM is a special local account, known as the DSRM account. This account, which is separate from all domain accounts, has full administrative rights to the server and is used to log on when in DSRM. Crucially, the password for this account is set at the time of the domain controller's promotion, not subsequently changed unless manually done so by an administrator.

Moreover, DSRM is accessed by rebooting the server and pressing F8 before Windows starts, which brings up the Windows Advanced Options Menu. From there, Directory Services Restore Mode can be selected.

This mode is particularly useful when Active Directory fails or requires restoration. By putting the server in a standalone state, DSRM allows administrators to access the server and carry out necessary recovery or repair tasks. However, it's also worth noting that DSRM can represent a potential security issue if not managed correctly, as the DSRM account could be used for unauthorized access. Therefore, proper management of DSRM credentials is essential.

DSRM was first introduced with Windows 2000 and has remained a feature in all subsequent versions of Windows Server, underscoring its significance in ensuring business continuity and the smooth operation of domain controllers.

Example:

Consider an organization with a Windows Server acting as a domain controller. Suppose this domain controller encounters an issue where Active Directory services are not functioning properly, and administrators cannot log in with their usual domain accounts to fix the problem. In this scenario, Directory Services Restore Mode (DSRM) becomes critical.

Here's a step-by-step guide on how to use DSRM:

1. **Reboot your server.** First, you'll need to initiate a system reboot. This can be done via the Start Menu or by using the command prompt with the command `shutdown /r`.
2. **Access the Windows Advanced Options Menu.** As your computer starts up, press F8 before the Windows logo appears. This will bring up the Windows Advanced Options Menu.
3. **Select Directory Services Restore Mode.** Use your arrow keys to navigate to the option labelled 'Directory Services Restore Mode' and press Enter.
4. **Log in with DSRM account.** You'll then be prompted to log in. Here, use the DSRM account which has full administrative rights to the server. Remember, this is a local account and separate from the domain account.

The command-line interface should look something like this:

```bash
Microsoft Windows [Version 10.0.14393]
(c) 2016 Microsoft Corporation. All rights reserved.

C:\\Windows\\system32>shutdown /r

```

Once you've accessed DSRM, you can perform necessary recovery or repair tasks on your Active Directory services. However, remember that the DSRM account is a potential security loophole if not managed correctly. Therefore, after completing your tasks, ensure to manage your DSRM credentials properly to prevent unauthorized access.
