# Android Exploiting a debuggeable application


# 👉 Overview

---

### 👀 What ?

Android Debuggable Application Exploitation refers to the process of exploiting the vulnerabilities found in debuggable applications for Android. Debuggable apps are applications that have the 'android:debuggable' flag set to true in their manifest file, which allows them to be debugged even on non-rooted devices. This opens up potential security concerns if not handled properly.


### 🧐 Why ?

Understanding this topic is important because the misuse of the debuggable attribute in Android applications can lead to serious security breaches. These include exposure of sensitive information such as passwords and personal data, and potential manipulation or corruption of the app's data and functionality. This knowledge is crucial for developers to avoid such vulnerabilities and for cyber security professionals to identify and mitigate potential threats.


### ⛏️ How ?

To exploit a debuggable application, one can use a variety of tools such as ADB (Android Debug Bridge) and JDWP (Java Debug Wire Protocol). Here's a step-by-step guide: \n1. Identify if an application is debuggable by checking the 'android:debuggable' attribute in the app's manifest file.\n2. If the app is debuggable, connect to it using the ADB tool via a command like 'adb shell am debug <packageName'.\n3. Use JDWP to attach a debugger and start executing arbitrary code.\nPlease note that this guide is for educational purposes only and exploiting applications without permission is illegal.


### ⏳ When ?

Android Debuggable Application Exploitation has been a known technique since the early days of Android development, as the debuggable attribute has been a part of Android from its initial releases. However, the growing complexity of Android apps and the increasing value of the data they handle has made this technique more relevant than ever.


# ⚙️ Technical Explanations

---

Android Debuggable Application Exploitation involves taking advantage of the vulnerabilities present in debuggable Android apps. These apps have the 'android:debuggable' flag set to true in their manifest file, allowing them to be debugged even on non-rooted devices.

The 'android:debuggable' attribute is a security feature in Android applications. When this attribute is set to true, it permits the app to be debugged - a crucial feature during the development phase for identifying and fixing bugs. However, it also introduces potential security risks.

Debuggable applications expose their internal workings, making the application's code readable, changeable, and executable at will. This exposure can lead to serious security breaches. For instance, attackers could read and modify the app's code to access sensitive user data or manipulate the app's functionality. In a worst-case scenario, an attacker could even inject malicious code.

Exploiting a debuggable application involves several steps. First, the attacker identifies if an application is debuggable by inspecting the 'android:debuggable' attribute in the app's manifest file. If the app is debuggable, the attacker can connect to it using the Android Debug Bridge (ADB) tool. This connection is done via a specific command. Once connected, the attacker can use the Java Debug Wire Protocol (JDWP) to attach a debugger and begin executing arbitrary code.

It's important to note that exploiting applications without permission is illegal and unethical. This information is provided for educational purposes, aiming to help developers and cybersecurity professionals understand the risks associated with debuggable applications.

To mitigate these risks, developers must ensure the 'android:debuggable' attribute is set to false in the production version of their apps. This prevents the application from being debugged on users' devices, thereby reducing the possibility of exploitation. Cybersecurity professionals, on the other hand, must stay aware of these potential threats and work on strategies to identify and mitigate them.

Let's assume we have an app called "DebugApp" with its 'android:debuggable' attribute set to true. Here's an illustrative example of how it can be exploited:

1. **Identifying if an application is debuggable**: You can inspect the app's manifest file by using the 'aapt' tool that comes with the Android SDK. The command 'aapt dump badging DebugApp.apk' will give you the application's metadata, including the 'android:debuggable' attribute.

```
$ aapt dump badging DebugApp.apk | grep -c 'application-debuggable'

```

If this command returns '1', it means the app is debuggable.

1. **Connecting to the app using ADB**: If the app is debuggable, you can use the Android Debug Bridge (ADB) tool to connect to it. For instance:

```
$ adb shell am debug -W com.example.DebugApp

```

In this command, 'com.example.DebugApp' is the package name of the app.

1. **Attaching a debugger and executing code**: Once connected, you can use JDWP to attach a debugger. For example, you can use the 'jdb' command, which is a Java debugger:

```
$ jdb -attach localhost:8700

```

In this command, '8700' is the port number which the JDWP client is listening to.

1. **Executing arbitrary code**: Once the debugger is attached, you can begin executing arbitrary code. For instance, you can use the 'print', 'dump', 'eval', or 'set' commands in jdb to manipulate the app's variables and methods.

Remember, this example is for educational purposes only. Exploiting applications without permission is illegal. Always make sure to set the 'android:debuggable' attribute to false in the production version of your apps to avoid potential threats.
