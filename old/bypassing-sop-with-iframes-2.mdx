# Bypassing SOP with Iframes - 2


# 👉 Overview

---

### 👀 What ?

Bypassing the Same-Origin Policy (SOP) with iframes refers to a technique where an attacker uses an iframe to make requests to a different domain, bypassing the standard security policy in web applications that prevents a document or script from making requests to a different domain.


### 🧐 Why ?

Understanding this technique is crucial as it poses a serious security risk. This technique can be used by attackers for several malicious activities such as stealing sensitive information, impersonating users, and even executing arbitrary code. As a security professional or a developer, understanding this technique can help in developing and implementing strategies to mitigate such attacks.


### ⛏️ How ?

Bypassing SOP with iframes involves embedding an iframe in a web page and then using it to send requests to a different domain. This can be done using JavaScript to dynamically change the source of the iframe to the target domain and then using the postMessage API to communicate with the iframe. The postMessage API allows for communication between the parent window and the iframe, even if they are on different domains, thus bypassing the SOP.


### ⏳ When ?

This technique has been in use since the inception of iframes and the SOP. It has become more prevalent with the increasing use of iframes for embedding third-party content.


# ⚙️ Technical Explanations

---

The Same-Origin Policy is a security measure implemented in web browsers to prevent scripts from making requests to a different domain than the one from which they originated. This policy is important to prevent CSRF (Cross-Site Request Forgery) attacks. However, this policy can be bypassed using iframes. An iframe allows embedding another HTML page within the current one. By embedding an iframe in a web page, an attacker can make it point to a different domain. This is where the postMessage API comes into play. It allows for communication between the parent window and the iframe, even if they are on different domains. The attacker can then use the postMessage API to send data to the iframe, which can then send it to the target domain, thus bypassing the SOP.
